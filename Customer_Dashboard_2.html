<!DOCTYPE html>
<html>
    <head>
          
        <style>
            dialog {
                position: absolute;
                top: 50%;                
                left:50%;
                transform:translate(-50%,-50%);
                
            }
        </style>
        <title>
            Customer_Dashboard
        </title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" 
            integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        
    </head>
    <body>
        <div id="root">
        <div id="pizzachart"></div>
        </div>

        <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
        <script crossorigin src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
        <script crossorigin src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="https://www.gstatic.com/charts/loader.js"></script>

        <script type="text/babel">
            const rootHandle = document.getElementById('root')
            const {useState,useEffect} = React
            const data = [
    {
        "Date": "2020-04-29",
        "Phone": 9455622241,
        "Name": "Shankara Narasimhan",
        "Amount": 260
    },
    {
        "Date": "2020-04-29",
        "Phone": 9597628723,
        "Name": "Sulya Gupta",
        "Amount": 90
    },
    {
        "Date": "2020-04-29",
        "Phone": 9640338121,
        "Name": "Brahma Swamy",
        "Amount": 80
    },
    {
        "Date": "2020-04-29",
        "Phone": 9383568793,
        "Name": "Vaibhav Mulye",
        "Amount": 240
    },
    {
        "Date": "2020-04-29",
        "Phone": 9455622241,
        "Name": "Shankara Narasimhan",
        "Amount": 230
    },
    {
        "Date": "2020-04-29",
        "Phone": 9521737322,
        "Name": "Riddhi Nair",
        "Amount": 70
    },
    {
        "Date": "2020-04-29",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 80
    },
    {
        "Date": "2020-04-29",
        "Phone": 9603660688,
        "Name": "Dhenuka Dhawan",
        "Amount": 250
    },
    {
        "Date": "2020-04-29",
        "Phone": 9451926724,
        "Name": "Sahan Sibal",
        "Amount": 260
    },
    {
        "Date": "2020-04-29",
        "Phone": 9699939066,
        "Name": "Haripriya Nayak",
        "Amount": 270
    },
    {
        "Date": "2020-04-29",
        "Phone": 9590146908,
        "Name": "Sachi Loliyekar",
        "Amount": 110
    },
    {
        "Date": "2020-04-29",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 100
    },
    {
        "Date": "2020-04-29",
        "Phone": 9640338121,
        "Name": "Brahma Swamy",
        "Amount": 240
    },
    {
        "Date": "2020-04-29",
        "Phone": 9236367267,
        "Name": "Takshaka Sandal",
        "Amount": 70
    },
    {
        "Date": "2020-04-30",
        "Phone": 9969345730,
        "Name": "Kavi Edwin",
        "Amount": 210
    },
    {
        "Date": "2020-04-30",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 280
    },
    {
        "Date": "2020-04-30",
        "Phone": 9971276037,
        "Name": "Pramlocha Comar",
        "Amount": 210
    },
    {
        "Date": "2020-04-30",
        "Phone": 9241664018,
        "Name": "Utathya Ghate",
        "Amount": 260
    },
    {
        "Date": "2020-04-30",
        "Phone": 9248936762,
        "Name": "Arpana Raja",
        "Amount": 260
    },
    {
        "Date": "2020-04-30",
        "Phone": 9640338121,
        "Name": "Brahma Swamy",
        "Amount": 200
    },
    {
        "Date": "2020-04-30",
        "Phone": 9895408016,
        "Name": "Mukul Krishna",
        "Amount": 180
    },
    {
        "Date": "2020-04-30",
        "Phone": 9241664018,
        "Name": "Utathya Ghate",
        "Amount": 260
    },
    {
        "Date": "2020-04-30",
        "Phone": 9920950009,
        "Name": "Rohan Sarma",
        "Amount": 110
    },
    {
        "Date": "2020-04-30",
        "Phone": 9820224845,
        "Name": "Tanika Philip",
        "Amount": 90
    },
    {
        "Date": "2020-04-30",
        "Phone": 9383568793,
        "Name": "Vaibhav Mulye",
        "Amount": 200
    },
    {
        "Date": "2020-04-30",
        "Phone": 9732082404,
        "Name": "Kali Chaudry",
        "Amount": 290
    },
    {
        "Date": "2020-04-30",
        "Phone": 9534474777,
        "Name": "Daeva Tata",
        "Amount": 70
    },
    {
        "Date": "2020-05-01",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 160
    },
    {
        "Date": "2020-05-01",
        "Phone": 9572464275,
        "Name": "Salmalin Mehta",
        "Amount": 100
    },
    {
        "Date": "2020-05-01",
        "Phone": 9688156631,
        "Name": "Sahan Oak",
        "Amount": 200
    },
    {
        "Date": "2020-05-01",
        "Phone": 9236367267,
        "Name": "Takshaka Sandal",
        "Amount": 250
    },
    {
        "Date": "2020-05-01",
        "Phone": 9979209995,
        "Name": "Atman Mathur",
        "Amount": 140
    },
    {
        "Date": "2020-05-01",
        "Phone": 9521737322,
        "Name": "Riddhi Nair",
        "Amount": 140
    },
    {
        "Date": "2020-05-01",
        "Phone": 9265205814,
        "Name": "Daeva Peri",
        "Amount": 180
    },
    {
        "Date": "2020-05-01",
        "Phone": 9267357082,
        "Name": "Muni Wasgare",
        "Amount": 210
    },
    {
        "Date": "2020-05-01",
        "Phone": 9267357082,
        "Name": "Muni Wasgare",
        "Amount": 290
    },
    {
        "Date": "2020-05-01",
        "Phone": 9590146908,
        "Name": "Sachi Loliyekar",
        "Amount": 190
    },
    {
        "Date": "2020-05-01",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 290
    },
    {
        "Date": "2020-05-01",
        "Phone": 9241664018,
        "Name": "Utathya Ghate",
        "Amount": 180
    },
    {
        "Date": "2020-05-02",
        "Phone": 9971276037,
        "Name": "Pramlocha Comar",
        "Amount": 80
    },
    {
        "Date": "2020-05-02",
        "Phone": 9920950009,
        "Name": "Rohan Sarma",
        "Amount": 140
    },
    {
        "Date": "2020-05-02",
        "Phone": 9705384480,
        "Name": "Latif Chia",
        "Amount": 70
    },
    {
        "Date": "2020-05-02",
        "Phone": 9252350612,
        "Name": "Anushka Mody",
        "Amount": 150
    },
    {
        "Date": "2020-05-02",
        "Phone": 9688156631,
        "Name": "Sahan Oak",
        "Amount": 290
    },
    {
        "Date": "2020-05-02",
        "Phone": 9359394987,
        "Name": "Tarun Mapkar",
        "Amount": 260
    },
    {
        "Date": "2020-05-02",
        "Phone": 9747425720,
        "Name": "Markandeya Barad",
        "Amount": 100
    },
    {
        "Date": "2020-05-02",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 180
    },
    {
        "Date": "2020-05-02",
        "Phone": 9699939066,
        "Name": "Haripriya Nayak",
        "Amount": 110
    },
    {
        "Date": "2020-05-02",
        "Phone": 9590146908,
        "Name": "Sachi Loliyekar",
        "Amount": 220
    },
    {
        "Date": "2020-05-02",
        "Phone": 9820224845,
        "Name": "Tanika Philip",
        "Amount": 220
    },
    {
        "Date": "2020-05-02",
        "Phone": 9747425720,
        "Name": "Markandeya Barad",
        "Amount": 90
    },
    {
        "Date": "2020-05-03",
        "Phone": 9910042819,
        "Name": "Shanti Bajwa",
        "Amount": 100
    },
    {
        "Date": "2020-05-03",
        "Phone": 9518195948,
        "Name": "Indra Chaudry",
        "Amount": 110
    },
    {
        "Date": "2020-05-03",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 80
    },
    {
        "Date": "2020-05-03",
        "Phone": 9236367267,
        "Name": "Takshaka Sandal",
        "Amount": 100
    },
    {
        "Date": "2020-05-03",
        "Phone": 9640338121,
        "Name": "Brahma Swamy",
        "Amount": 100
    },
    {
        "Date": "2020-05-03",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 120
    },
    {
        "Date": "2020-05-03",
        "Phone": 9453085874,
        "Name": "Manu Oza",
        "Amount": 120
    },
    {
        "Date": "2020-05-03",
        "Phone": 9976945538,
        "Name": "Amitabha Kothari",
        "Amount": 270
    },
    {
        "Date": "2020-05-03",
        "Phone": 9910042819,
        "Name": "Shanti Bajwa",
        "Amount": 280
    },
    {
        "Date": "2020-05-03",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 200
    },
    {
        "Date": "2020-05-03",
        "Phone": 9405883814,
        "Name": "Gauri Som",
        "Amount": 220
    },
    {
        "Date": "2020-05-03",
        "Phone": 9252350612,
        "Name": "Anushka Mody",
        "Amount": 170
    },
    {
        "Date": "2020-05-04",
        "Phone": 9453085874,
        "Name": "Manu Oza",
        "Amount": 120
    },
    {
        "Date": "2020-05-04",
        "Phone": 9640338121,
        "Name": "Brahma Swamy",
        "Amount": 150
    },
    {
        "Date": "2020-05-04",
        "Phone": 9927277067,
        "Name": "Ranjan Khare",
        "Amount": 80
    },
    {
        "Date": "2020-05-04",
        "Phone": 9910042819,
        "Name": "Shanti Bajwa",
        "Amount": 250
    },
    {
        "Date": "2020-05-04",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 200
    },
    {
        "Date": "2020-05-04",
        "Phone": 9293117791,
        "Name": "Kumara Nayak",
        "Amount": 250
    },
    {
        "Date": "2020-05-04",
        "Phone": 9976945538,
        "Name": "Amitabha Kothari",
        "Amount": 110
    },
    {
        "Date": "2020-05-04",
        "Phone": 9518195948,
        "Name": "Indra Chaudry",
        "Amount": 200
    },
    {
        "Date": "2020-05-04",
        "Phone": 9518195948,
        "Name": "Indra Chaudry",
        "Amount": 130
    },
    {
        "Date": "2020-05-04",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 140
    },
    {
        "Date": "2020-05-04",
        "Phone": 9521737322,
        "Name": "Riddhi Nair",
        "Amount": 120
    },
    {
        "Date": "2020-05-04",
        "Phone": 9920950009,
        "Name": "Rohan Sarma",
        "Amount": 120
    },
    {
        "Date": "2020-05-04",
        "Phone": 9597628723,
        "Name": "Sulya Gupta",
        "Amount": 140
    },
    {
        "Date": "2020-05-04",
        "Phone": 9534474777,
        "Name": "Daeva Tata",
        "Amount": 70
    },
    {
        "Date": "2020-05-04",
        "Phone": 9009381182,
        "Name": "Mira Reddy",
        "Amount": 240
    },
    {
        "Date": "2020-05-04",
        "Phone": 9009381182,
        "Name": "Mira Reddy",
        "Amount": 160
    },
    {
        "Date": "2020-05-04",
        "Phone": 9236367267,
        "Name": "Takshaka Sandal",
        "Amount": 150
    },
    {
        "Date": "2020-05-04",
        "Phone": 9265205814,
        "Name": "Daeva Peri",
        "Amount": 180
    },
    {
        "Date": "2020-05-05",
        "Phone": 9451926724,
        "Name": "Sahan Sibal",
        "Amount": 170
    },
    {
        "Date": "2020-05-05",
        "Phone": 9504662177,
        "Name": "Tara Menon",
        "Amount": 230
    },
    {
        "Date": "2020-05-05",
        "Phone": 9455622241,
        "Name": "Shankara Narasimhan",
        "Amount": 200
    },
    {
        "Date": "2020-05-05",
        "Phone": 9927277067,
        "Name": "Ranjan Khare",
        "Amount": 110
    },
    {
        "Date": "2020-05-05",
        "Phone": 9521737322,
        "Name": "Riddhi Nair",
        "Amount": 90
    },
    {
        "Date": "2020-05-05",
        "Phone": 9252350612,
        "Name": "Anushka Mody",
        "Amount": 120
    },
    {
        "Date": "2020-05-05",
        "Phone": 9699939066,
        "Name": "Haripriya Nayak",
        "Amount": 70
    },
    {
        "Date": "2020-05-05",
        "Phone": 9150159527,
        "Name": "Leya Sankaran",
        "Amount": 270
    },
    {
        "Date": "2020-05-05",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 240
    },
    {
        "Date": "2020-05-05",
        "Phone": 9733555024,
        "Name": "Nirav Khalsa",
        "Amount": 110
    },
    {
        "Date": "2020-05-05",
        "Phone": 9236367267,
        "Name": "Takshaka Sandal",
        "Amount": 200
    },
    {
        "Date": "2020-05-05",
        "Phone": 9241664018,
        "Name": "Utathya Ghate",
        "Amount": 260
    },
    {
        "Date": "2020-05-06",
        "Phone": 9455622241,
        "Name": "Shankara Narasimhan",
        "Amount": 210
    },
    {
        "Date": "2020-05-06",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 250
    },
    {
        "Date": "2020-05-06",
        "Phone": 9705384480,
        "Name": "Latif Chia",
        "Amount": 160
    },
    {
        "Date": "2020-05-06",
        "Phone": 9359394987,
        "Name": "Tarun Mapkar",
        "Amount": 100
    },
    {
        "Date": "2020-05-06",
        "Phone": 9688156631,
        "Name": "Sahan Oak",
        "Amount": 210
    },
    {
        "Date": "2020-05-06",
        "Phone": 9688156631,
        "Name": "Sahan Oak",
        "Amount": 280
    },
    {
        "Date": "2020-05-06",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 110
    },
    {
        "Date": "2020-05-06",
        "Phone": 9699939066,
        "Name": "Haripriya Nayak",
        "Amount": 130
    },
    {
        "Date": "2020-05-06",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 110
    },
    {
        "Date": "2020-05-06",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 90
    },
    {
        "Date": "2020-05-06",
        "Phone": 9597628723,
        "Name": "Sulya Gupta",
        "Amount": 190
    },
    {
        "Date": "2020-05-06",
        "Phone": 9521737322,
        "Name": "Riddhi Nair",
        "Amount": 140
    },
    {
        "Date": "2020-05-06",
        "Phone": 9451926724,
        "Name": "Sahan Sibal",
        "Amount": 230
    },
    {
        "Date": "2020-05-06",
        "Phone": 9403313898,
        "Name": "Adri Dave",
        "Amount": 210
    },
    {
        "Date": "2020-05-06",
        "Phone": 9895408016,
        "Name": "Mukul Krishna",
        "Amount": 240
    },
    {
        "Date": "2020-05-06",
        "Phone": 9504662177,
        "Name": "Tara Menon",
        "Amount": 140
    },
    {
        "Date": "2020-05-07",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 140
    },
    {
        "Date": "2020-05-07",
        "Phone": 9699939066,
        "Name": "Haripriya Nayak",
        "Amount": 280
    },
    {
        "Date": "2020-05-07",
        "Phone": 9732082404,
        "Name": "Kali Chaudry",
        "Amount": 130
    },
    {
        "Date": "2020-05-07",
        "Phone": 9150159527,
        "Name": "Leya Sankaran",
        "Amount": 250
    },
    {
        "Date": "2020-05-07",
        "Phone": 9820224845,
        "Name": "Tanika Philip",
        "Amount": 290
    },
    {
        "Date": "2020-05-07",
        "Phone": 9248936762,
        "Name": "Arpana Raja",
        "Amount": 260
    },
    {
        "Date": "2020-05-07",
        "Phone": 9293117791,
        "Name": "Kumara Nayak",
        "Amount": 200
    },
    {
        "Date": "2020-05-07",
        "Phone": 9640338121,
        "Name": "Brahma Swamy",
        "Amount": 200
    },
    {
        "Date": "2020-05-07",
        "Phone": 9732082404,
        "Name": "Kali Chaudry",
        "Amount": 280
    },
    {
        "Date": "2020-05-07",
        "Phone": 9265205814,
        "Name": "Daeva Peri",
        "Amount": 70
    },
    {
        "Date": "2020-05-07",
        "Phone": 9534474777,
        "Name": "Daeva Tata",
        "Amount": 160
    },
    {
        "Date": "2020-05-07",
        "Phone": 9252350612,
        "Name": "Anushka Mody",
        "Amount": 80
    },
    {
        "Date": "2020-05-07",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 220
    },
    {
        "Date": "2020-05-07",
        "Phone": 9153022424,
        "Name": "Hastin Mangal",
        "Amount": 180
    },
    {
        "Date": "2020-05-07",
        "Phone": 9920950009,
        "Name": "Rohan Sarma",
        "Amount": 160
    },
    {
        "Date": "2020-05-07",
        "Phone": 9534474777,
        "Name": "Daeva Tata",
        "Amount": 230
    },
    {
        "Date": "2020-05-07",
        "Phone": 9359394987,
        "Name": "Tarun Mapkar",
        "Amount": 260
    },
    {
        "Date": "2020-05-07",
        "Phone": 9969345730,
        "Name": "Kavi Edwin",
        "Amount": 100
    },
    {
        "Date": "2020-05-08",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 130
    },
    {
        "Date": "2020-05-08",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 120
    },
    {
        "Date": "2020-05-08",
        "Phone": 9504662177,
        "Name": "Tara Menon",
        "Amount": 220
    },
    {
        "Date": "2020-05-08",
        "Phone": 9455622241,
        "Name": "Shankara Narasimhan",
        "Amount": 150
    },
    {
        "Date": "2020-05-08",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 90
    },
    {
        "Date": "2020-05-08",
        "Phone": 9236367267,
        "Name": "Takshaka Sandal",
        "Amount": 110
    },
    {
        "Date": "2020-05-08",
        "Phone": 9330107696,
        "Name": "Nipa Naidu",
        "Amount": 70
    },
    {
        "Date": "2020-05-08",
        "Phone": 9927277067,
        "Name": "Ranjan Khare",
        "Amount": 180
    },
    {
        "Date": "2020-05-08",
        "Phone": 9140356318,
        "Name": "Ballari Upadhyay",
        "Amount": 270
    },
    {
        "Date": "2020-05-08",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 70
    },
    {
        "Date": "2020-05-08",
        "Phone": 9518195948,
        "Name": "Indra Chaudry",
        "Amount": 180
    },
    {
        "Date": "2020-05-08",
        "Phone": 9976945538,
        "Name": "Amitabha Kothari",
        "Amount": 270
    },
    {
        "Date": "2020-05-08",
        "Phone": 9534474777,
        "Name": "Daeva Tata",
        "Amount": 210
    },
    {
        "Date": "2020-05-08",
        "Phone": 9504662177,
        "Name": "Tara Menon",
        "Amount": 210
    },
    {
        "Date": "2020-05-08",
        "Phone": 9293117791,
        "Name": "Kumara Nayak",
        "Amount": 200
    },
    {
        "Date": "2020-05-08",
        "Phone": 9293117791,
        "Name": "Kumara Nayak",
        "Amount": 140
    },
    {
        "Date": "2020-05-08",
        "Phone": 9248936762,
        "Name": "Arpana Raja",
        "Amount": 110
    },
    {
        "Date": "2020-05-08",
        "Phone": 9960294002,
        "Name": "Mitra Gounder",
        "Amount": 240
    },
    {
        "Date": "2020-05-08",
        "Phone": 9150159527,
        "Name": "Leya Sankaran",
        "Amount": 140
    },
    {
        "Date": "2020-05-08",
        "Phone": 9236367267,
        "Name": "Takshaka Sandal",
        "Amount": 250
    },
    {
        "Date": "2020-05-09",
        "Phone": 9732082404,
        "Name": "Kali Chaudry",
        "Amount": 100
    },
    {
        "Date": "2020-05-09",
        "Phone": 9521737322,
        "Name": "Riddhi Nair",
        "Amount": 140
    },
    {
        "Date": "2020-05-09",
        "Phone": 9293117791,
        "Name": "Kumara Nayak",
        "Amount": 190
    },
    {
        "Date": "2020-05-09",
        "Phone": 9590146908,
        "Name": "Sachi Loliyekar",
        "Amount": 150
    },
    {
        "Date": "2020-05-09",
        "Phone": 9688156631,
        "Name": "Sahan Oak",
        "Amount": 220
    },
    {
        "Date": "2020-05-09",
        "Phone": 9895408016,
        "Name": "Mukul Krishna",
        "Amount": 230
    },
    {
        "Date": "2020-05-09",
        "Phone": 9261697610,
        "Name": "Niloufer Handa",
        "Amount": 130
    },
    {
        "Date": "2020-05-09",
        "Phone": 9927277067,
        "Name": "Ranjan Khare",
        "Amount": 170
    },
    {
        "Date": "2020-05-09",
        "Phone": 9640338121,
        "Name": "Brahma Swamy",
        "Amount": 230
    },
    {
        "Date": "2020-05-09",
        "Phone": 9485132704,
        "Name": "Sohalia Das",
        "Amount": 250
    },
    {
        "Date": "2020-05-09",
        "Phone": 9330107696,
        "Name": "Nipa Naidu",
        "Amount": 240
    },
    {
        "Date": "2020-05-09",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 180
    },
    {
        "Date": "2020-05-09",
        "Phone": 9389644210,
        "Name": "Brahma Swamy",
        "Amount": 210
    }
]

            function App (props) 
            {
                const [customersData,setCustomersData] = useState(data)
                
                let customerDetails = []
                customersData.forEach((feData) => 
                {
                    const result2 = customerDetails.some((ele) => 
                    {
                        return(feData.Phone == ele.Phone)
                    })
                    if(result2)
                    {
                        return
                    }
                    else
                    {
                        const result1 = data.find((ele) => 
                    {
                        return(feData.Phone == ele.Phone)
                    })
                        customerDetails.push(result1)
                        
                    }
        
                })
                // setCustomersArr(customerDetails)
                return(
                    <div className="container">
                        <h1 className="display-3 mb-3">Customer Dashboard</h1>
                        <StatsContainer customersData={customersData} customerDetails={customerDetails}/>
                        <OrdersContainer customerDetails = {customerDetails}/>
                    </div>
                )
            }
            function StatsContainer (props)
            {
                const {customersData,customerDetails} = props
                //console.log(customersData)
                const orders = customersData.length
                let amount = 0
                customersData.forEach((ele) => 
                {
                    amount += ele.Amount  
                })
                //console.log(amount)
                let customersNum = 0
                customersNum = customerDetails.length
                return(
                    <div className="row">
                        <StatsItem count={orders} text='Orders'/>
                        <StatsItem count={amount} text='Amount'/>
                        <StatsItem count={customersNum} text="Customers"/>
                        <CustomersContainer customerDetails={customerDetails}/>
                    </div>
                    
                )
            }
            function StatsItem (props) 
            {
                const {count,text} = props
                return(
                    <div className="col-md-4 mb-3">
                        <div className="card bg-light">
                        <div className="card-header"><h1>{count}</h1></div>
                        <div className="card-body">
                            <div className="card-title"><h3>{text}</h3></div>
                        </div>
                    </div>
                        
                    </div>
                )
            }
            function CustomersContainer (props) 
            {
                const {customerDetails} = props
                const [toggle,setToggle] = useState(false)
                const [searchData,setSearchData] = useState([])
                const [dialogData,setDialogData] = useState([])
                const [dialogArr,setDialogArr] = useState([])
                const handleSearch = (e) =>
                {
                    const input = e.target.value
                    //const numInput = parseInt(input)
                    const result = customerDetails.filter((ele) => 
                    {
                        if(isNaN(input))
                        {
                            return(((ele.Name.includes(input)))  || (ele.Name.toLowerCase().includes(input)))
                        }
                        else
                        {
                            return(ele.Phone.toString().includes(input))
                        }
                    
                    })
                    setSearchData(result)
                }
                const handleToggle = () => 
                {
                    const input = !toggle
                    setToggle(input)
                }
                let arr = []
                const handleShow = (Phone) => 
                {
                    const input = !toggle
                    setToggle(input)
                    const result = data.filter((ele) => 
                    {
                        return(ele.Phone == Phone)
                    })
                    console.log(result)
                    let totalAmount = 0
                    let name = ''
                    result.forEach((ele) => 
                    {
                        totalAmount += Number(ele.Amount)
                        name = ele.Name
                    })
                    setDialogData(result)
                    const dData = {
                        "name" : name,
                        "amount" : totalAmount,
                        "count" : result.length
                    }
                    //console.log(dData)
                    arr.push(dData)
                    console.log('arr',arr)
                    setDialogArr(arr)
                }
                return(
                    <div className="mb-3">
                    <div className="row">
                        <CustomersTable customerDetails={customerDetails}/> 
                        <CustomerSearch handleSearch={handleSearch} />
                        {(searchData.length > 0 ) ? 
                        (<table className="table table-hover">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Name</th>
                                <th>Mobile</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            {searchData.map((ele,i) => 
                            {
                                return(
                                    <tr key={i}>
                                        <td>{i+1}</td>
                                        <td>{ele.Name}</td>
                                        <td>{ele.Phone}</td>
                                        <td><button type="button" className="btn btn-primary"  onClick={(e) => {handleShow(ele.Phone)}}>Show</button></td>
                                    </tr>
                                )
                            })}
                        </tbody>
                    </table>)
                :
                (<table className="table table-striped" >
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Name</th>
                                <th>Mobile</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody>
                        {customerDetails.map((ele,i) => 
                            {
                                return(
                                    <tr key={i}>
                                        <td>{i+1}</td>
                                        <td>{ele.Name}</td>
                                        <td>{ele.Phone}</td>
                                        <td><button type="button"  className="btn btn-primary" onClick={(e) => {handleShow(ele.Phone)}} >Show</button></td>
                                    </tr>
                                )
                            })}
                        </tbody>    
                </table>)
                }
                {(toggle) &&
                    (<div className="modal-dialog modal-lg">
                        
                        <div className="modal-content">
                            <div className="modal-header">
                                {dialogArr.map((ele,i) => 
                                    {
                                        return(<div key={i}>
                                            <h2 className="modal-title">USER - {ele.name} </h2>
                                            <h2 className="modal-title">Oder Count - {ele.count},   Total Amount - {ele.amount}/-</h2>
                                            </div>)
                                    })
                                }
                            </div>
                            <div className="modal-body">
                                <table className="table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Date</th>
                                            <th>Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {dialogData.map((ele,i) => 
                                            {
                                                return(<tr key={i}>
                                                    <td>{i+1}</td>
                                                    <td>{ele.Date}</td>
                                                    <td>{ele.Amount}</td>
                                                    </tr>)
                                            })}
                                    </tbody>
                                </table>
                            </div>
                            <div className="modal-footer">
                                <button className="btn btn-secondary" onClick={handleToggle}>Close</button>
                            </div>
                       
                    </div>
                </div>
                )}
                </div>
                </div>
                ) 
            }
            function CustomerSearch (props) 
            {
                const {handleSearch} = props
                return(
                    <div className="col-md-6">
                        <input type = 'text' className="form-control" placeholder='Search by name or phone' onChange={(e) => {handleSearch(e)}}/><br /><br />  
                    </div>
                )
            }
            function CustomersTable (props)
            {
                const {customerDetails} = props
                return(
                    <div className="col-md-6">
                        <h2>Listing customers - {customerDetails.length}</h2>
                    </div>
                )
            }
            function OrdersContainer (props) 
            {
                const {customerDetails} = props
                const [orderCountObj,setOrderCountObj] = useState({})
                let orderCount = []
                customerDetails.forEach((ele) => 
                {
                    const result = data.filter((data) => {
                        return(ele.Phone == data.Phone)
                    })
                    //console.log(result)
                    orderCount.push(result.length)
                })
                
                let customerCount = {
                    one : 0,
                    two : 0,
                    three : 0,
                    four : 0,
                    fivePlus : 0
                }
                for(let i = 0 ; i<= orderCount.length ; i++)
                {
                    if(orderCount[i] == 1)
                    {
                        customerCount.one += 1
                    }
                    else if(orderCount[i] == 2)
                    {
                        customerCount.two += 1
                    }
                    else if(orderCount[i] == 3)
                    {
                        customerCount.three += 1
                    }
                    else if(orderCount[i] == 4)
                    {
                        customerCount.four += 1
                    }
                    else
                    {
                        customerCount.fivePlus += 1
                    }
                }
                
                return (
                    <div className="row">
                        <OrdersTable customerDetails={customerDetails} customerCount={customerCount}/>   
                        <OrdersChart customerCount={customerCount}/>
                        
                    </div>
                )
            }

            function OrdersTable (props) 
            {
                const {customerDetails,customerCount} = props
                //console.log(orderCount)
                return(
                    <div className="col-md-6">
                        <h2>Order distribution</h2>
                        <table className="table">
                        <thead>
                            <tr>
                                <th>No of Orders</th>
                                <th>Count of customers</th>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>{customerCount.one}</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>{customerCount.two}</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>{customerCount.three}</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>{customerCount.four}</td>
                            </tr>
                            <tr>
                                <td>5+</td>
                                <td>{customerCount.fivePlus}</td>
                            </tr>
                        </thead>
                    </table>
                    </div>
                )
            }
            function OrdersChart (props) 
            {
                const [chart,setChart] = useState(null)
                const [google,setGoogle] = useState(null)
                const {customerCount} = props
                useEffect(() => 
                {
                    if(!google)
                    {
                        const head = document.head;
                        let script = document.getElementById('googleChartsScript');
                        if (!script) {
                            script = document.createElement('script');
                            script.src = 'https://www.gstatic.com/charts/loader.js';
                            script.id = 'googleChartsScript';
                            script.onload = () => {
                                if (window.google && window.google.charts) {
                                    window.google.charts.load('current', {'packages':['corechart']});

                                    window.google.charts.setOnLoadCallback(() => setGoogle(window.google))
                                }
                            };
                            head.appendChild(script);
                        } else if (window.google && window.google.charts && window.google.visualization) {
                            setGoogle(window.google);
                        }
                    }
                    return () => {
                    let script = document.getElementById('googleChartsScript');
                    if (script) {
                        script.remove();
                    }
                    }
                },[])

                useEffect(() => 
                {
                    if(google && !chart)
                    {
                        const data = new google.visualization.DataTable();
                        data.addColumn('string', 'Orders');
                        data.addColumn('number', 'Customers');
                        const rowsArr = []
                        for(let key in customerCount)
                        {
                            let arr= []
                            arr.push(key,customerCount[key])
                            rowsArr.push(arr)
                        }
                        console.log('rowsarr',rowsArr)
                        rowsArr.forEach((ele) => 
                        {
                            data.addRows([(ele)])
                        })
                        // data.addRows([
                        //     ['One', 11],
                        //     ['Two', 9],
                        //     ['Three', 10],
                        //     ['Four', 8],
                        //     ['Five +', 9]
                        // ]);
                        // Set chart options
                        var options = {'title':'',
                                    'width':400,
                                    'height':300};

                        // Instantiate and draw our chart, passing in some options.
                        const newChart = new google.visualization.PieChart(document.getElementById('pizzachart'));
                        newChart.draw(data, options);

                        setChart(newChart)
                    }
                },[google])
                return(
                    <div className="col-md-6">
                        <h2>Pie-Chart</h2>
                        {!google}
                        <div id="pizzachart" className={!google ? 'd-none' : ''} />
                    </div>
                )
            }
            ReactDOM.render(<App/>,rootHandle)
        </script>